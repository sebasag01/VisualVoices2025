<div class="mode-selector-container">

    <div class="logo">
      <img src="assets/bombillita2.png" alt="Logo">
    </div>

    <div class="avatar-container">
      <app-canvas [animationUrls]="currentAnimationUrls"></app-canvas>      
    </div>

  
    <div class="modes-container">
      <div 
        class="mode-card"
        *ngFor="let mode of modes"
        (click)="navigateToMode(mode.route)">
        <h2>{{ mode.name }}</h2>
        <p>{{ mode.description }}</p>
        <!-- Sólo muestra este bloque si es el MODO GUIADO -->
        <div *ngIf="mode.id === 'guiado'">
          <span>Progreso actual: {{ progressPercent }}%</span>
          <br />
          <span>Lección actual: {{ userLevel }}</span>
          <br />
          <!-- Y sólo si nextLevel no es null, se muestra -->
          <span *ngIf="nextLevel; else noHayNivel">
            Próxima lección: {{ nextLevel }}
          </span>
          
          <ng-template #noHayNivel>
            <span>No hay más lecciones disponibles</span>
          </ng-template>        
        </div>

        <div *ngIf="mode.id === 'libre'">
          <!-- Estadística: X de N palabras exploradas -->
          <p>Has explorado {{ exploredCount }} / {{ totalWords }} palabras en modo libre</p>
        </div>

      </div>
    </div>
  
    <div class="settings-icon">
      <img src="assets/usu.png" alt="Ajustes">
    </div>
  </div>