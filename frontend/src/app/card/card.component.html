<div class="card-container">
  <div
    class="card"
    [class.card-leaving]="isLeaving"
    (animationend)="onAnimationEnd()"
  >

    <ng-container *ngIf="showWelcome && !showChooseLevel; else secondStep">
      <h2>¡Bienvenido al nivel {{ levelNumber }}!</h2>
      <p>Puedes continuar donde lo dejaste, o empezar desde la primera palabra.</p>
      <div>
        <button (click)="continueClicked.emit()">Continuar donde iba</button>
        <button (click)="startOverClicked.emit()">Empezar desde el principio</button>
        <button (click)="chooseLevelClicked.emit()">Elegir nivel</button>
      </div>
    </ng-container>
      
    <ng-template #secondStep>
      <ng-container *ngIf="showWelcome && showChooseLevel; else normalContent">
        <p>Selecciona un nivel:</p>
        <div *ngFor="let lvl of availableLevels">
          <button (click)="onLevelSelect(lvl)">Nivel {{ lvl }}</button>
        </div>
      </ng-container>
    </ng-template>

    <ng-template #normalContent>
      <!-- Explicación dinámica -->
      <div class="explanation">{{ explanation || 'Explicación guiada para cada botón' }}</div>

      <!-- Palabra dinámica y navegación agrupadas -->
      <div class="word-navigation-container">
        <button class="prev-button" (click)="prevCard()">
          <img src="assets/left-arrow.png" alt="Anterior" class="arrow-icon">
        </button>
        
        <div class="word-repeat-container">
          <button class="word-button" (click)="onWordButtonClick()">
            {{ word || 'Cargando...' }}
          </button>
        </div>
        
        <button class="next-button" (click)="nextCard()">
          <ng-container *ngIf="nextLabel === 'Siguiente'; else avanzarNivel">
            <!-- Mostrar la flecha -->
            <img src="assets/right-arrow.png" alt="Siguiente" class="arrow-icon">
          </ng-container>
          <ng-template #avanzarNivel>
            <!-- Mostrar texto "Avanzar Nivel" -->
            {{ nextLabel }}
          </ng-template>
        </button>
      </div>
    </ng-template>

  </div>
</div>
    
    <!-- Palabra dinámica
    <div class="word-repeat-container">
      <button class="word-button" (click)="onWordButtonClick()">
        {{ word || 'Cargando...' }}
      </button>
    </div>
    
    <div class="navigation">
      <button class="prev-button" (click)="prevCard()">
        <img src="assets/left-arrow.png" alt="Anterior" class="arrow-icon">
      </button>
      <button class="next-button" (click)="nextCard()">
        <img src="assets/right-arrow.png" alt="Siguiente" class="arrow-icon">
      </button>
    </div>
  </div>
</div> -->
